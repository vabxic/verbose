<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Verbose – Home</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
    --bg: #ffffff;
    --text: #1a1a1a;
    --secondary: #64748b;
    --border: #e2e8f0;
    --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
}

* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Inter', -apple-system, sans-serif;
    background: var(--bg);
    color: var(--text);
}

/* TOP BAR - unified with landing page */
.topbar {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:2rem 10%;
    border-bottom:1px solid #f1f5f9;
    position:sticky;
    top:0;
    background:rgba(255,255,255,0.8);
    backdrop-filter:blur(10px);
    z-index:100;
}

.logo { font-weight:800; font-size:1.5rem; letter-spacing:-1px; }

.profile-area { position:relative; }

.profile-btn {
    width:42px;
    height:42px;
    border-radius:50%;
    background:#000;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    cursor:pointer;
    overflow:hidden;
    font-size:1rem;
}

.profile-btn img {
    width:100%;
    height:100%;
    object-fit:cover;
}

.profile-menu {
    position:absolute;
    right:0;
    top:55px;
    background:white;
    border:1px solid var(--border);
    border-radius:8px;
    width:170px;
    display:none;
    padding:0.8rem;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
}

.profile-name {
    font-size:0.9rem;
    margin-bottom:0.6rem;
    color:var(--secondary);
}

.profile-menu button {
    width:100%;
    padding:0.55rem;
    border:none;
    background:#000;
    color:white;
    border-radius:6px;
    cursor:pointer;
}

/* HERO */

.hero {
    text-align:center;
    padding:7rem 1.5rem 5rem;
    background:linear-gradient(to bottom,#f8fafc,#ffffff);
}

.hero h1 {
    font-size:clamp(2.2rem,5vw,3.2rem);
    font-weight:800;
    letter-spacing:-1px;
    margin-bottom:1.2rem;
}

.hero p {
    font-size:1.05rem;
    color:var(--secondary);
    margin-bottom:2.5rem;
}

.hero-buttons {
    display:flex;
    gap:1rem;
    justify-content:center;
    flex-wrap:wrap;
}

.btn {
    padding:0.85rem 1.8rem;
    border-radius:6px;
    font-weight:600;
    border:none;
    cursor:pointer;
    transition:transform 0.3s var(--ease-out);
}

.btn-primary {
    background:#000;
    color:white;
}
.btn-primary:hover { transform:scale(1.05); }

.btn-secondary {
    background:transparent;
    border:1.5px solid #000;
    color:#000;
}
.btn-secondary:hover { transform:scale(1.04); background:rgba(0,0,0,0.05); }

/* FOOTER */
.footer {
    border-top:1px solid var(--border);
    padding:2rem 1.5rem;
    text-align:center;
    font-size:0.9rem;
    color:var(--secondary);
}
</style>
</head>

<body>

<header class="topbar">
    <div class="logo">VERBOSE</div>

    <div class="profile-area">
        <div class="profile-btn" id="profileBtn">
            <img id="profileImg" style="display:none;" />
            <span id="profileLetter"></span>
        </div>

        <div class="profile-menu" id="profileMenu">
            <div class="profile-name" id="profileName"></div>
            <button id="logoutBtn">Logout</button>
        </div>
    </div>
</header>

<section class="hero">
    <h1>Where Conversations Become Knowledge.</h1>
    <p>Anonymous chat rooms, shared file drives, and AI-organized discussions — all in one place.</p>

    <div class="hero-buttons">
        <button class="btn btn-primary">Start a Room</button>
        <button class="btn btn-secondary">Join with Link</button>
    </div>
</section>



<script>
const profileBtn = document.getElementById("profileBtn");
const profileMenu = document.getElementById("profileMenu");
const profileImg = document.getElementById("profileImg");
const profileLetter = document.getElementById("profileLetter");
const profileName = document.getElementById("profileName");
const logoutBtn = document.getElementById("logoutBtn");

// Google user stored by auth.js
const googleUser = JSON.parse(localStorage.getItem("googleUser"));
const urlParams = new URLSearchParams(window.location.search);
const anonUser = urlParams.get("username");

if (googleUser) {
    profileImg.src = googleUser.photoURL;
    profileImg.style.display = "block";
    profileName.textContent = googleUser.displayName;
} 
else if (anonUser) {
    profileLetter.textContent = anonUser.charAt(0).toUpperCase();
    profileName.textContent = anonUser + " (Guest)";
} 
else {
    window.location.href = "/";
}

profileBtn.addEventListener("click", () => {
    profileMenu.style.display =
        profileMenu.style.display === "block" ? "none" : "block";
});

logoutBtn.addEventListener("click", () => {
    localStorage.removeItem("googleUser");
    window.location.href = "/";
});

document.addEventListener("click", (e) => {
    if (!profileBtn.contains(e.target)) {
        profileMenu.style.display = "none";
    }
});
</script>

</body>
</html>
