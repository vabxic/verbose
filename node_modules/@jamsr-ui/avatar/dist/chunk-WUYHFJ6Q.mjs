"use client"
import{b as c}from"./chunk-BCJEA635.mjs";import{a as p,b as v}from"./chunk-AMNWA3KX.mjs";import{AvatarIcon as _}from"@jamsr-ui/shared-icons";import{useUIConfig as M}from"@jamsr-ui/config";import{cn as x,deepMergeProps as F,mapPropsVariants as H,mergeGlobalProps as K}from"@jamsr-ui/utils";import{useEffect as L,useState as O}from"react";import{jsx as R}from"react/jsx-runtime";var X=y=>{let{avatar:b={},globalConfig:I}=M(),l=y,u=K(b,l),A=F(u,l,I),[N,m]=H(A,c.variantKeys),{alt:t,src:a,className:E,fallback:o,name:d,onError:k,children:i,classNames:s,as:C,...h}=N,B=C??"img",g=typeof i=="string"&&p(i)||t.length>0&&p(t)||"",S=g||R(_,{className:s?.fallbackIcon}),[e,n]=O(a);L(()=>{n(a)},[a]);let{color:f}=m,U=e?f??"default":f??v(g),G=c({...m,className:x(s?.base,E),color:U}),V=r=>{k?.(r);let P=typeof o=="function"?o({alt:t,name:d}):o;n(P||null)};return{Component:B,imgSrc:e,fallBack:S,getBaseProps:r=>({...r,className:G,"data-component":"avatar"}),getImageProps:r=>({...r,className:s?.image,alt:t,src:e,onError:V,...h})}};export{X as a};
