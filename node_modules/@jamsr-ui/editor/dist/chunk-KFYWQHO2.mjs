"use client"
import{a as C}from"./chunk-KWYIIBR2.mjs";import{a as T}from"./chunk-PMGJQEDD.mjs";import{b as d}from"./chunk-G3NIGSQY.mjs";import{useControlledState as z,useHover as Q,useIsDisabled as X}from"@jamsr-ui/hooks";import{useUIConfig as Z}from"@jamsr-ui/config";import{cn as l,dataAttr as p,deepMergeProps as $,formLabelProps as ee,mapPropsVariants as oe,mergeGlobalProps as te}from"@jamsr-ui/utils";import re from"@tiptap/extension-code-block-lowlight";import se from"@tiptap/extension-link";import ae from"@tiptap/extension-placeholder";import ne from"@tiptap/extension-subscript";import le from"@tiptap/extension-superscript";import ie from"@tiptap/extension-task-item";import pe from"@tiptap/extension-task-list";import me from"@tiptap/extension-text";import de from"@tiptap/extension-text-align";import ce from"@tiptap/extension-underline";import fe from"@tiptap/extension-youtube";import{useEditor as ue}from"@tiptap/react";import ge from"@tiptap/starter-kit";import{all as Pe,createLowlight as be}from"lowlight";import{useCallback as a,useEffect as Ce}from"react";import Te from"@tiptap/extension-typography";var we=h=>{let{editor:N={},globalConfig:v}=Z(),c=h,x=te(N,c),y=$(x,c,v),[E,I]=oe(y,d.variantKeys),{defaultValue:S,onValueChange:L,value:U,options:V,placeholder:k="Write something...",classNames:o,helperText:H,as:O,className:m,extensionsProps:G,label:M,disabled:D=!1,isDisabled:J=!1,isFormControl:R=!1,contentType:f="json",...r}=E,B=O??"div",[u={},F]=z(S,U,L),{isDisabled:s,ref:g}=X({isDisabled:J||D,isFormControl:R}),{isHovered:P,ref:b}=Q({isDisabled:s}),j=be(Pe),n=ue({extensions:[ge.configure({codeBlock:!1}),pe,ie,ce,le,me,Te,se.configure({openOnClick:!1}),C.configure({inline:!0}),T.configure({props:G?.imageUpload}),de.configure({types:["heading","paragraph"]}),ne,ae.configure({placeholder:k}),re.configure({lowlight:j}),fe.configure({controls:!1,nocookie:!0})],immediatelyRender:!1,onCreate({editor:e}){u&&e.commands.setContent(u)},onUpdate({editor:e}){let q=f==="json"&&e.getJSON()||f==="html"&&e.getHTML()||e.getText();F?.(q)},...V});Ce(()=>{n?.setEditable(!s)},[s]);let i=a(()=>{n?.commands.focus()},[n?.commands]),t=d({...I,className:m}),w=a(e=>({"data-slot":"base","data-component":"editor","data-disabled":p(s),"aria-disabled":p(s),"data-focused":p(n?.isFocused),"data-hovered":p(P),...e,className:t.base({className:l(o?.base,m)}),ref:b,...r}),[m,o?.base,n?.isFocused,b,s,P,r,t]),A=a((e={})=>({"data-slot":"editor",...e,className:t.editor({className:l(o?.editor,e.className)}),...r}),[o?.editor,r,t]),K=a((e={})=>({"data-slot":"content",...e,className:t.content({className:l(o?.content)}),...r,onClick:i}),[o?.content,i,r,t]),_=a((e={})=>({"data-slot":"helper-text",...e,className:t.helperText({className:l(o?.helperText,e.className)}),...r}),[o?.helperText,r,t]),W=a((e={})=>({"data-slot":"label",...ee(),...e,className:t.label({className:l(o?.label,e.className)}),onClick:i}),[o?.label,i,t]),Y=a(e=>({...e,ref:g}),[g]);return{label:M,editor:n,Component:B,getBaseProps:w,getEditorProps:A,getContentProps:K,getHelperTextProps:_,getLabelProps:W,helperText:H,getInputProps:Y,isDisabled:s}};export{we as a};
