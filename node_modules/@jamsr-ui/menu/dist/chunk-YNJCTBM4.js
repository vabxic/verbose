"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }"use client"
var _chunkP2FH34KWjs = require('./chunk-P2FH34KW.js');var _chunkL7WUMPE7js = require('./chunk-L7WUMPE7.js');var _react = require('@floating-ui/react');var _hooks = require('@jamsr-ui/hooks');var _sharedicons = require('@jamsr-ui/shared-icons');var _config = require('@jamsr-ui/config');var _utils = require('@jamsr-ui/utils');var _react3 = require('motion/react');var _react5 = require('react');var _jsxruntime = require('react/jsx-runtime');var Qe={initial:e=>({opacity:0,...e.startsWith("bottom")&&{top:-10},...e.startsWith("top")&&{top:10},...e.startsWith("right")&&{left:-10},...e.startsWith("left")&&{left:10}}),animate:e=>({opacity:1,...e.startsWith("bottom")&&{top:0},...e.startsWith("top")&&{top:0},...e.startsWith("right")&&{left:0},...e.startsWith("left")&&{left:0}}),exit:e=>({opacity:0,...e.startsWith("bottom")&&{top:10},...e.startsWith("top")&&{top:-10},...e.startsWith("right")&&{left:10},...e.startsWith("left")&&{left:-10}})},it= exports.a =e=>{let{menu:D={},globalConfig:L}=_config.useUIConfig.call(void 0, ),b=e,H=_utils.mergeGlobalProps.call(void 0, D,b),K=_utils.deepMergeProps.call(void 0, H,b,L),[U,_]=_utils.mapPropsVariants.call(void 0, K,_chunkP2FH34KWjs.b.variantKeys),c=_react.useFloatingParentNodeId.call(void 0, ),t=c!=null,{as:Xe,children:G,trigger:$,triggerOn:q="click",placement:y=t?"right-start":"bottom-end",className:M,classNames:a,offset:z=t?2:4,showArrow:B=!1,isOpen:J,initialOpen:Q=!1,onOpenChange:X,openDelay:Y=75,closeDelay:Z=0,closeOnEscapeKey:j=!0,closeOnOutsidePress:ee=!0,lockScroll:te=!0,motionVariants:oe,...I}=U,[o,p]=_hooks.useControlledState.call(void 0, Q,J,X),[se,N]=_react5.useState.call(void 0, !1),[u,d]=_react5.useState.call(void 0, null),F=_react5.useRef.call(void 0, []),O=_react5.useRef.call(void 0, []),C=_react5.useRef.call(void 0, null),f=_chunkL7WUMPE7js.b.call(void 0, ),s=_react.useFloatingTree.call(void 0, ),l=_react.useFloatingNodeId.call(void 0, ),x=_react.useListItem.call(void 0, ),{floatingStyles:ne,refs:R,context:r}=_react.useFloating.call(void 0, {nodeId:l,open:o,onOpenChange:p,placement:y,middleware:[_react.offset.call(void 0, {mainAxis:z,alignmentAxis:t?-4:0}),_react.flip.call(void 0, ),_react.shift.call(void 0, {padding:5}),_react.arrow.call(void 0, {element:C})],whileElementsMounted:_react.autoUpdate}),ae=_react.useHover.call(void 0, r,{enabled:q==="hover"||t,delay:{open:Y,close:Z},handleClose:_react.safePolygon.call(void 0, {blockPointerEvents:!0})}),re=_react.useClick.call(void 0, r,{event:"mousedown",toggle:!t,ignoreMouse:t}),ie=_react.useRole.call(void 0, r,{role:"menu"}),le=_react.useDismiss.call(void 0, r,{bubbles:!0,escapeKey:j,outsidePress:ee}),ce=_react.useListNavigation.call(void 0, r,{listRef:F,activeIndex:u,nested:t,onNavigate:d}),pe=_react.useTypeahead.call(void 0, r,{listRef:O,onMatch:o?d:void 0,activeIndex:u}),{getReferenceProps:ue,getFloatingProps:me,getItemProps:k}=_react.useInteractions.call(void 0, [ae,re,ie,le,ce,pe]);_react5.useEffect.call(void 0, ()=>{if(!s)return;function m(){p(!1)}function V(E){E.nodeId!==l&&E.parentId===c&&p(!1)}return s.events.on("click",m),s.events.on("menuopen",V),()=>{s.events.off("click",m),s.events.off("menuopen",V)}},[s,l,c,p]),_react5.useEffect.call(void 0, ()=>{o&&s&&s.events.emit("menuopen",{parentId:c,nodeId:l})},[s,o,l,c]);let i=_chunkP2FH34KWjs.b.call(void 0, _),de=_react5.useMemo.call(void 0, ()=>({activeIndex:u,setActiveIndex:d,getItemProps:k,setHasFocusInside:N,isOpen:o,classNames:a,styles:i}),[u,a,k,o,i]),fe=o&&se&&t;return _jsxruntime.jsxs.call(void 0, _react.FloatingNode,{id:l,children:[_jsxruntime.jsxs.call(void 0, "div",{ref:_react.useMergeRefs.call(void 0, [R.setReference,x.ref]),tabIndex:t?f.activeIndex===x.index?0:-1:void 0,role:t?"menuitem":void 0,...ue(f.getItemProps({...I,onMouseEnter(m){_optionalChain([I, 'access', _2 => _2.onMouseEnter, 'optionalCall', _3 => _3(m)]),N(!1),f.setHasFocusInside(!0)}})),"data-active":_utils.dataAttr.call(void 0, fe),"data-nested":_utils.dataAttr.call(void 0, t),"data-open":_utils.dataAttr.call(void 0, o),className:t?i.menuItem({className:_optionalChain([a, 'optionalAccess', _4 => _4.menuItem])}):i.base({className:_optionalChain([a, 'optionalAccess', _5 => _5.base])}),children:[$,t&&_jsxruntime.jsx.call(void 0, _sharedicons.ChevronRightIcon,{"aria-hidden":!0,className:"ml-auto"})]}),_jsxruntime.jsx.call(void 0, _chunkL7WUMPE7js.a.Provider,{value:de,children:_jsxruntime.jsx.call(void 0, _react.FloatingList,{elementsRef:F,labelsRef:O,children:_jsxruntime.jsx.call(void 0, _react3.AnimatePresence,{children:o&&_jsxruntime.jsx.call(void 0, _react.FloatingPortal,{children:_jsxruntime.jsx.call(void 0, _react.FloatingOverlay,{className:i.backdrop({className:_optionalChain([a, 'optionalAccess', _6 => _6.backdrop])}),"data-slot":"backdrop",lockScroll:te,children:_jsxruntime.jsx.call(void 0, _react.FloatingFocusManager,{context:r,modal:!0,initialFocus:-1,returnFocus:!t,disabled:!0,children:_jsxruntime.jsxs.call(void 0, "div",{ref:R.setFloating,style:ne,className:i.popover({className:_utils.cn.call(void 0, M,_optionalChain([a, 'optionalAccess', _7 => _7.popover]))}),...me(),children:[B&&_jsxruntime.jsx.call(void 0, _react.FloatingArrow,{ref:C,context:r,className:i.arrow({className:_optionalChain([a, 'optionalAccess', _8 => _8.arrow])})}),_jsxruntime.jsx.call(void 0, _react3.m.ul,{initial:"initial",animate:"animate",exit:"exit",custom:y,variants:_nullishCoalesce(oe, () => (Qe)),className:i.content({className:_utils.cn.call(void 0, M,_optionalChain([a, 'optionalAccess', _9 => _9.content]))}),children:G})]})})})})})})})]})};exports.a = it;
