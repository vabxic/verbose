"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }"use client"
var _chunk3HHLU55Ijs = require('./chunk-3HHLU55I.js');var _react = require('@floating-ui/react');var _hooks = require('@jamsr-ui/hooks');var _config = require('@jamsr-ui/config');var _utils = require('@jamsr-ui/utils');var _react3 = require('react');var _jsxruntime = require('react/jsx-runtime');var Oe=f=>{let{popover:d={},globalConfig:u}=_config.useUIConfig.call(void 0, ),r=f,P=_utils.mergeGlobalProps.call(void 0, d,r),b=_utils.deepMergeProps.call(void 0, P,r,u),[v,h]=_utils.mapPropsVariants.call(void 0, b,_chunk3HHLU55Ijs.a.variantKeys),{trigger:n,children:y,isOpen:F,onOpenChange:O,initialOpen:w=!1,isModal:k=!0,enabled:C=!0,placement:a="top",triggerOn:s="click",showArrow:l=!1,className:S,offset:x=4,classNames:i,lockScroll:N=!0,...R}=v,[c,M]=_hooks.useControlledState.call(void 0, w,F,O),p=_react3.useRef.call(void 0, null),{refs:A,floatingStyles:E,context:e}=_react.useFloating.call(void 0, {placement:a,open:c,onOpenChange:M,middleware:[_react.offset.call(void 0, x),_react.flip.call(void 0, {crossAxis:a.includes("-"),fallbackAxisSideDirection:"end",padding:4}),_react.shift.call(void 0, {padding:4}),l?_react.arrow.call(void 0, {element:p}):void 0,_react.size.call(void 0, {apply({rects:$,elements:G,availableHeight:J}){}})],whileElementsMounted:_react.autoUpdate}),V=_react.useClick.call(void 0, e,{enabled:s==="click"}),z=_react.useDismiss.call(void 0, e),D=_react.useRole.call(void 0, e),H=_react.useHover.call(void 0, e,{enabled:s==="hover",handleClose:_react.safePolygon.call(void 0, {blockPointerEvents:!0})}),{getReferenceProps:I,getFloatingProps:T}=_react.useInteractions.call(void 0, [V,z,D,H]),U=e.refs.setReference,_=_react3.cloneElement.call(void 0, n,I({ref:U,...R})),g=_chunk3HHLU55Ijs.a.call(void 0, h);return C?_jsxruntime.jsxs.call(void 0, _jsxruntime.Fragment,{children:[_,c&&_jsxruntime.jsx.call(void 0, _react.FloatingPortal,{children:_jsxruntime.jsx.call(void 0, _react.FloatingOverlay,{className:"z-backdrop",lockScroll:N,children:_jsxruntime.jsx.call(void 0, _react.FloatingFocusManager,{context:e,modal:k,returnFocus:s==="click",initialFocus:-1,children:_jsxruntime.jsxs.call(void 0, "div",{"data-component":"popover",className:g.base({className:_utils.cn.call(void 0, S,_optionalChain([i, 'optionalAccess', _2 => _2.base]))}),ref:A.setFloating,style:E,...T(),children:[l&&_jsxruntime.jsx.call(void 0, _react.FloatingArrow,{ref:p,context:e,className:g.arrow({className:_optionalChain([i, 'optionalAccess', _3 => _3.arrow])})}),y]})})})})]}):n};exports.a = Oe;
