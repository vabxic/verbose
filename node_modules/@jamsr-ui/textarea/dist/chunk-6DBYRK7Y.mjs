"use client"
import{useControlledState as ue,useFocus as Pe,useHover as be,useIsDisabled as Ce,useMergeRefs as fe}from"@jamsr-ui/hooks";import{inputVariants as y}from"@jamsr-ui/input";import{cn as r,dataAttr as o,deepMergeProps as ge,formLabelProps as Ne,isEmpty as l,mapPropsVariants as Te,mergeGlobalProps as ve,useDOMRef as xe}from"@jamsr-ui/utils";import{useCallback as s}from"react";import{useUIConfig as he}from"@jamsr-ui/config";var He=D=>{let{textarea:V={},globalConfig:I}=he(),u=D,A=ve(V,u),S=ge(A,u,I),[F,P]=Te(S,y.variantKeys),{as:w,label:b,labelHelperContent:C,className:f,classNames:a,defaultValue:U,value:k,onValueChange:O,startContent:c,endContent:g,onChange:N,helperText:_,placeholder:i,baseRef:T,inputWrapperRef:v,ref:B,disabled:K=!1,isDisabled:j=!1,isFormControl:q=!1,errorMessage:z,...x}=F,J=w??"div",Q="textarea",{variant:X="standard",isInvalid:Y}=P,{isDisabled:n,ref:Z}=Ce({isDisabled:j||K,isFormControl:q}),{isFocused:m,ref:$}=Pe({isDisabled:n}),{isHovered:h,ref:ee}=be({isDisabled:n}),ae=fe([B,Z,$,ee]),p=xe(ae),t=y({...P,isTextarea:!0}),[d,R]=ue(U,k,O),W=s(e=>{N?.(e),R(e.target.value)},[N,R]),M=!l(i)||!l(d)||!l(c)||m,E=!l(b)||!l(C),G=!l(c),H=!l(g),L=s(()=>{p.current?.focus()},[p]),te=s(e=>({"data-slot":"base",className:t.base({className:r(a?.base,e?.className)}),ref:T,"data-focused":o(m),"data-hovered":o(h),"data-filled-within":o(M),"data-has-label":o(E),"data-has-start-content":o(G),"data-has-end-content":o(H),"aria-disabled":o(n),"data-disabled":o(n),...e}),[t,a?.base,T,m,h,M,E,G,H,n]),se=s(e=>({...e,"data-slot":"label-wrapper",className:t.labelWrapper({className:r(a?.labelWrapper,e?.className)})}),[t,a?.labelWrapper]),re=s(e=>({...e,...Ne(),"data-slot":"label",className:t.label({className:r(a?.label,e?.className)})}),[t,a?.label]),oe=s(e=>({...e,"data-slot":"inner-wrapper",className:t.innerWrapper({className:r(a?.innerWrapper,e?.className)})}),[t,a?.innerWrapper]),ne=s(e=>({...e,"data-slot":"helper",className:t.helper({className:r(a?.helper,e?.className)})}),[t,a?.helper]),le=s(e=>({...e,"data-slot":"error-message",className:t.errorMessage({className:r(a?.errorMessage,e?.className)})}),[t,a?.errorMessage]),pe=s(e=>({...e,"data-slot":"main-wrapper",className:t.mainWrapper({className:r(a?.mainWrapper,e?.className)})}),[t,a?.mainWrapper]),ce=s(e=>({ref:v,...e,"data-slot":"textarea-wrapper",className:t.inputWrapper({className:r(a?.inputWrapper,e?.className)}),onClick:L}),[v,t,a?.inputWrapper,L]),ie=s(e=>({"data-slot":"textarea",className:t.input({className:r(a?.input,e?.className,f)}),value:d,placeholder:i,onChange:W,ref:p,disabled:n,"aria-disabled":o(n),...x,...e}),[t,a?.input,f,d,i,W,p,n,x]),me=s(e=>({...e,"data-slot":"start-content",className:t.startContent({className:r(a?.startContent,e?.className)})}),[t,a?.startContent]),de=s(e=>({...e,"data-slot":"end-content",className:t.endContent({className:r(a?.endContent,e?.className)})}),[t,a?.endContent]);return{Component:J,TextareaComponent:Q,classNames:a,label:b,helperText:_,startContent:c,endContent:g,variant:X,isInvalid:Y,getBaseProps:te,labelHelperContent:C,getLabelWrapperProps:se,getLabelProps:re,getTextareaProps:ie,getTextareaWrapperProps:ce,getHelperProps:ne,getInnerWrapperProps:oe,getMainWrapperProps:pe,getStartContentProps:me,getEndContentProps:de,getErrorMessageProps:le,errorMessage:z}};export{He as a};
