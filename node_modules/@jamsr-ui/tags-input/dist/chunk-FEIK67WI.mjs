"use client"
import{Chip as E}from"@jamsr-ui/chip";import{useControlledState as M}from"@jamsr-ui/hooks";import{Input as k}from"@jamsr-ui/input";import{useUIConfig as x}from"@jamsr-ui/config";import{deepMergeProps as O,mergeGlobalProps as H}from"@jamsr-ui/utils";import{useCallback as r,useMemo as K,useState as L}from"react";import{jsx as N}from"react/jsx-runtime";import{createElement as B}from"react";var z=i=>{let{tagsInput:g={},globalConfig:c}=x(),a=i,m=H(g,a),P=O(m,a,c),{onValueChange:f,defaultValue:C,value:h,classNames:d,isClearable:I,slotProps:b,...v}=P,w=["Enter",","],[n=[],o]=M(C??[],h,f),p=e=>new Set(e.split(",").filter(t=>t!=="").map(t=>t.trim())),[y,l]=L(""),V=e=>{if(w.includes(e.key)){let{value:t}=e.target;e.preventDefault(),o(s=>[...new Set([...s,...p(t)])]),l("")}},u=r(e=>{o(t=>[...new Set([...t].filter(s=>s!==e))])},[o]),D=r(()=>{o([])},[o]),S=K(()=>[...n].map(e=>B(E,{...b?.chip,onDelete:()=>u(e),key:e},e)),[u,n]),T=r(e=>{e.preventDefault(),o(t=>[...new Set([...t,...p(e.clipboardData?.getData("text")??"")])])},[o]);return N(k,{...v,value:y,onValueChange:l,onKeyDown:V,classNames:{contentWrapper:"p-1 flex flex-wrap gap-1",...d},onPaste:T,onClearInput:D,showClearButton:n.length>0&&I,children:S})};export{z as a};
