"use client"
import{b as h}from"./chunk-VFGACQMH.mjs";import{useControlledState as _,useFocus as Ke,useFocusVisible as je,useHover as ze,useIsDisabled as Je,useMergeRefs as K}from"@jamsr-ui/hooks";import{useUIConfig as Qe}from"@jamsr-ui/config";import{cn as o,dataAttr as l,deepMergeProps as Xe,formLabelProps as Ye,isEmpty as p,mapPropsVariants as Ze,mergeGlobalProps as et,mergeProps as tt,useDOMRef as at}from"@jamsr-ui/utils";import{useCallback as s,useMemo as st}from"react";var it=j=>{let{input:z={},globalConfig:J}=Qe(),R=j,Q=et(z,R),X=Xe(Q,R,J),[Y,v]=Ze(X,h.variantKeys),{as:Z,label:d,labelHelperContent:I,className:w,classNames:t,isNumberInput:W,defaultValue:ee,value:te,onValueChange:ae,type:m,isSecuredText:P,showPassword:se,setShowPassword:oe,startContent:b,endContent:M,onChange:y,helperText:ne,decimalPrecision:C=2,baseRef:S,inputWrapperRef:re,children:le,ref:pe,slotProps:E={},placeholder:g,isClearable:ce=!1,onClearInput:T,showClearButton:ie,disabled:ue=!1,isDisabled:de=!1,slots:me={},isFormControl:Pe=!1,errorMessage:be,...G}=Y,Ce=Z??"div",ge="input",{isDisabled:n,ref:Ne}=Je({isDisabled:ue||de,isFormControl:Pe}),{isFocused:N,ref:fe}=Ke({isDisabled:n}),{isHovered:V,ref:he}=ze({isDisabled:n}),{isFocusVisible:H,ref:Re}=je({isDisabled:n}),ve=K([pe,Ne,fe,Re]),i=at(ve),L=K([he,re]),a=h(v),{isRequired:Ie,isOptional:we,variant:We="standard",isInvalid:Me}=v,[c="",u]=_(ee,te,ae),[ye,D]=_(!1,se,oe),f=n?!1:ye,x=s(e=>{T?.(e),u("")},[T,u]),B=(d?.length??0)>0&&(!p(g)||!p(c)||!p(b)||N||m==="number"&&i.current?.validity.badInput===!0),F=!p(d)||!p(I),$=!p(b),O=!p(M),Se=!p(c),U=s(e=>{let{value:r}=e.target;if(r=String(r),W)if(C<1)r=r.replace(/\D/g,"");else{let A=`^\\$?\\d*\\.?\\d{0,${C}}$`;new RegExp(A).test(r)?r=r.replace(/^\$/,""):r=c}y?.(e),u(r)},[W,y,u,C,c]),Ee=s(()=>D(e=>!e),[D]),k=s(()=>{i.current?.focus()},[i]),Te=s(e=>({"data-slot":"base",className:a.base({className:o(t?.base,e?.className)}),ref:S,"data-focused":l(N),"data-hovered":l(V),"data-filled-within":l(B),"data-has-label":l(F),"data-has-start-content":l($),"data-has-end-content":l(O),"data-disabled":l(n),"aria-disabled":l(n),"data-focus-visible":l(H),...e}),[a,t?.base,S,N,V,B,F,$,O,n,H]),Ge=s(e=>({...e,"data-slot":"label-wrapper",className:a.labelWrapper({className:o(t?.labelWrapper,e?.className)})}),[a,t?.labelWrapper]),Ve=s(e=>({...e,...Ye(),"data-slot":"label",className:a.label({className:o(t?.label,e?.className)})}),[a,t?.label]),He=s(e=>({...e,"data-slot":"legend",className:a.legend({className:o(t?.legend,e?.className)})}),[a,t?.legend]),Le=s(e=>({"data-slot":"inner-wrapper",className:a.innerWrapper({className:o(t?.innerWrapper,e?.className)}),...e}),[a,t?.innerWrapper]),De=s(e=>({...e,"data-slot":"helper",className:a.helper({className:o(t?.helper,e?.className)})}),[a,t?.helper]),xe=s(e=>({...e,"data-slot":"error-message",className:a.errorMessage({className:o(t?.errorMessage,e?.className)})}),[a,t?.errorMessage]),Be=s(e=>({...e,"data-slot":"main-wrapper",className:a.mainWrapper({className:o(t?.mainWrapper,e?.className)})}),[a,t?.mainWrapper]),Fe=s(e=>({ref:L,...e,"data-slot":"input-wrapper",...tt(E.inputWrapper??{},{className:a.inputWrapper({className:o(t?.inputWrapper,e?.className)}),onClick:k})}),[L,E.inputWrapper,a,t?.inputWrapper,k]),$e=s(e=>({...e,"data-slot":"start-content",className:a.startContent({className:o(t?.startContent,e?.className)})}),[a,t?.startContent]),Oe=s(e=>({...e,"data-slot":"end-content",className:a.endContent({className:o(t?.endContent,e?.className)})}),[a,t?.endContent]),q=st(()=>P?f?"text":"password":m,[P,f,m]),Ue=s(e=>({"data-slot":"input",className:a.input({className:o(t?.input,e?.className,w)}),value:c,onChange:U,type:q,placeholder:g,disabled:n,...G,...e,ref:i}),[a,t?.input,w,c,U,q,g,n,G,i]),ke=s(e=>({...e,"data-slot":"content-wrapper",className:a.contentWrapper({className:o(t?.contentWrapper,e?.className)})}),[a,t?.contentWrapper]),qe=s(e=>({...e,"data-slot":"notation",className:a.notation({className:o(t?.notation,e?.className)})}),[a,t?.notation]),Ae=Ie===!0||we===!0,_e=s(e=>({...e,"data-slot":"clear-button",className:a.clearButton({className:o(t?.clearButton,e?.className)}),onClick:x}),[a,t?.clearButton,x]);return{hasValue:Se,Component:Ce,InputComponent:ge,children:le,classNames:t,label:d,helperText:ne,startContent:b,endContent:M,isClearable:ce,variant:We,slots:me,isInvalid:Me,isSecuredText:P,showPassword:f,hasNotation:Ae,getBaseProps:Te,labelHelper:I,getLabelWrapperProps:Ge,getLabelProps:Ve,getInputProps:Ue,getInputWrapperProps:Fe,getHelperProps:De,getInnerWrapperProps:Le,handleChangeInputType:Ee,getMainWrapperProps:Be,getStartContentProps:$e,getEndContentProps:Oe,getNotationProps:qe,getContentWrapperProps:ke,getClearButtonProps:_e,showClearButton:ie,getLegendProps:He,getErrorMessageProps:xe,errorMessage:be}};export{it as a};
