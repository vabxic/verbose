"use client"
import{a as l}from"./chunk-WO6SKT3Z.mjs";import{a as f}from"./chunk-KS6HKC6W.mjs";import{Children as K,useCallback as a,useRef as L,useState as k}from"react";import{jsx as d}from"react/jsx-runtime";var W=A=>{let{Component:y,children:h,getBaseProps:P,isMultiple:c,hideIndicator:S,variant:b,radius:g}=f(A),[n,m]=k(new Set([])),r=L([]),v=a(e=>{let o=n.has(e);if(!c)m(o?new Set:new Set([e]));else if(c){let t=new Set(n);t.has(e)?t.delete(e):t.add(e),m(t)}},[n,c]),s=(e,o)=>{let t=r.current.length,i=(e+o+t)%t;for(let u=0;u<t;u++){let R=(i+u*o+t)%t,p=r.current[R];if(p&&!p.isDisabled){p.focus();return}}},T=e=>s(e,1),F=e=>s(e,-1),I=()=>s(-1,1),C=()=>s(r.current.length-1,-1),w=a((e,o)=>{r.current&&o&&(r.current[e]=o)},[]);return d(y,{...P(),children:K.map(h,(e,o)=>{let t=n.has(o);return d(l,{value:{isOpen:t,index:o,onFocusNext:()=>T(o),onFocusPrevious:()=>F(o),onToggle:()=>v(o),onFocusFirst:()=>I(),onFocusLast:()=>C(),ref:i=>w(o,i),hideIndicator:S,variant:b,radius:g},children:e},o)})})};export{W as a};
